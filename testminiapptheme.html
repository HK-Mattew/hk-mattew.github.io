<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Miniapp with Bootstrap Theme</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    :root {
      /* Main colors */
      --bs-primary: #0d6efd;
      --bs-secondary: #6c757d;
      --bs-success: #198754;
      --bs-danger: #dc3545;
      --bs-warning: #ffc107;
      --bs-info: #0dcaf0;
      --bs-light: #f8f9fa;
      --bs-dark: #212529;

      /* Background and text */
      --bs-body-bg: #ffffff;
      --bs-body-color: #000000;
      --bs-muted: #6c757d;
      --bs-heading-color: #212529;

      /* Links */
      --bs-link-color: #0d6efd;
      --bs-link-hover-color: #0056b3;

      /* Borders */
      --bs-border-color: #dee2e6;

      /* Shadows */
      --bs-box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);

      /* Buttons */
      --bs-btn-bg: #0d6efd;
      --bs-btn-border-color: #0d6efd;
      --bs-btn-hover-bg: #0056b3;
      --bs-btn-hover-border-color: #0056b3;

      /* Inputs */
      --bs-input-bg: #ffffff;
      --bs-input-border-color: #ced4da;
      --bs-input-color: #495057;

      /* Tooltips */
      --bs-tooltip-bg: #000000;
      --bs-tooltip-color: #ffffff;
    }

    body {
      background-color: var(--bs-body-bg);
      color: var(--bs-body-color);
    }
  </style>
</head>
<body>
  <div class="container py-5">
    <h1 class="text-primary">Miniapp with Dynamic Theme</h1>
    <p class="text-muted">This is an example of integration with the Telegram theme.</p>
    <a href="#" class="text-link">Adapted Link</a>
    <button class="btn btn-primary mt-3">Primary Button</button>
    <input type="text" class="form-control mt-3" placeholder="Type something...">
    <div class="alert alert-warning mt-3">This is a warning alert!</div>
  </div>

  <script>
    if (window.Telegram && window.Telegram.WebApp) {
      const themeParams = window.Telegram.WebApp.themeParams;

      // Apply Telegram theme parameters to Bootstrap variables
      document.documentElement.style.setProperty('--bs-primary', themeParams.button_color || '#0d6efd');
      document.documentElement.style.setProperty('--bs-body-bg', themeParams.bg_color || '#ffffff');
      document.documentElement.style.setProperty('--bs-body-color', themeParams.text_color || '#000000');
      document.documentElement.style.setProperty('--bs-muted', themeParams.hint_color || '#6c757d');
      document.documentElement.style.setProperty('--bs-link-color', themeParams.link_color || '#0d6efd');
      document.documentElement.style.setProperty('--bs-link-hover-color', themeParams.link_color || '#0056b3');
      document.documentElement.style.setProperty('--bs-border-color', themeParams.bg_color || '#dee2e6');
      document.documentElement.style.setProperty('--bs-box-shadow', '0 0.125rem 0.25rem rgba(0, 0, 0, 0.075)');
      document.documentElement.style.setProperty('--bs-input-bg', themeParams.bg_color || '#ffffff');
      document.documentElement.style.setProperty('--bs-input-border-color', themeParams.bg_color || '#ced4da');
      document.documentElement.style.setProperty('--bs-tooltip-bg', themeParams.hint_color || '#000000');
      document.documentElement.style.setProperty('--bs-tooltip-color', themeParams.text_color || '#ffffff');
    }
  </script>
</body>
</html>
